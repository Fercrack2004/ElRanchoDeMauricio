<%# app/views/information_pages/_section_fields.html.erb %>
<div class="nested-fields border-t border-gray-200 pt-6 mt-6" data-new-record="<%= form.object.new_record? %>">
  <div class="flex justify-between items-center mb-4">
    <h3 class="text-lg font-semibold text-gray-700">Sección</h3>
    <a href="#" data-action="click->nested-form#remove" class="text-red-500 hover:text-red-700 text-sm font-medium">Eliminar Sección</a>
  </div>

  <div class="space-y-4">
    <div>
      <%= form.label :title, "Título de la Sección", class: "block text-sm font-medium text-gray-700" %>
      <%= form.text_field :title, class: "w-full mt-1 px-3 py-2 border border-gray-300 rounded-md", placeholder: "Ej: Orígenes del Plato" %>
    </div>
    <div>
      <%= form.label :content, "Contenido", class: "block text-sm font-medium text-gray-700" %>
      <%= form.text_area :content, rows: 5, class: "w-full mt-1 px-3 py-2 border border-gray-300 rounded-md", placeholder: "Escribe aquí el contenido de la sección..." %>
    </div>
    
    <%# Lógica para mostrar imagen actual y campo para cambiarla %>
    <div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-center">
      <div>
        <%= form.label :image, "Cambiar/Añadir Imagen", class: "text-sm font-medium text-gray-700" %>
        <%= form.file_field :image, class: "w-full mt-1 text-sm text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:bg-gray-50 hover:file:bg-gray-200" %>
      </div>
      <% if form.object.image.attached? %>
        <div class="text-center">
          <p class="text-sm font-medium text-gray-500">Imagen actual:</p>
          <%= image_tag form.object.image.variant(resize_to_limit: [100, 100]), class: "mt-2 inline-block rounded-md shadow-sm" %>
        </div>
      <% end %>
    </div>
  </div>
  <%= form.hidden_field :_destroy %>
</div>